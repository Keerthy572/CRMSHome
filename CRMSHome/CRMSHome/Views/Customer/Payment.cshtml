@model CRMSHome.Models.Booking
@{
    ViewData["Title"] = "Payment";
}

<h2>Payment</h2>

<div class="card p-4" style="max-width:600px;">
    <h4>Booking</h4>
    <p><strong>Booking ID:</strong> @Model.Id</p>
    <p><strong>Amount:</strong> Rs. @Model.TotalCost</p>

    <form asp-action="PayNow" method="post">
        @Html.AntiForgeryToken()
        <input type="hidden" name="bookingId" value="@Model.Id" />

        <div class="mb-3">
            <label class="form-label">Cardholder Name</label>
            <input class="form-control" name="cardHolder" required />
        </div>

        <div class="mb-3">
            <label class="form-label">Card Number</label>
            <input class="form-control" name="cardNumber" maxlength="19" placeholder="1234 5678 9012 3456" required />
            <div class="form-text">We will only store the last 4 digits (demo only).</div>
        </div>

        <div class="row g-2 mb-3">
            <div class="col-6">
                <label class="form-label">Expiry Month</label>
                <input class="form-control" name="expiryMonth" placeholder="MM" maxlength="2" required />
            </div>
            <div class="col-6">
                <label class="form-label">Expiry Year</label>
                <input class="form-control" name="expiryYear" placeholder="YYYY" maxlength="4" required />
            </div>
        </div>

        <div class="mb-3">
            <label class="form-label">CVV</label>
            <input class="form-control" name="cvv" maxlength="4" placeholder="123" required />
            <div class="form-text">CVV will NOT be stored (security).</div>
        </div>

      
        <div class="d-flex justify-content-between">
            <a class="btn btn-secondary" href="@Url.Action("CustomerDashboard", "Customer")">Cancel</a> <br />
            <button type="submit" class="btn btn-success">Pay Now</button>   <!-- Submit button: immediately posts the form -->
        </div>
    </form>
</div>
